<!-- templates/prompter_results.html -->

<h1>Response from OpenAI</h1>
<p>{{ response }}</p>

<h2>Difficult Words</h2>
<ul>
{% for word in difficult_words %}
    <li>{{ word[0] }} - {{ word[1] }}</li>
{% endfor %}
</ul>

<script>
    function getPromptResults() {
        var cmd = $("#cmd").val();
        var tag = $("#tag").val();
        var spins = $("#spins").val();
    
        $.ajax({
            url: '/get_prompt_results',
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({ 'CMD': cmd, 'tag': tag, 'SPINS': spins }),
            success: function(response) {
                // Update the DOM with response data
                $("#results").text(response.text_response);
                // Process difficult words and update the DOM as needed
            },
            error: function(error) {
                console.log(error);
            }
        });
    }
    </script>
    
    <button onclick="getPromptResults()">Get Results</button>
    <div id="results"></div>
    